<!-------------------------🦜 Data 🦜------------------------->
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Data/offices.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Data/options.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Data/dynamic-text.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Data/translate.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Data/events-data.js" defer></script>


<!------------------------🐳 Fill  🐳 ------------------------>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Fill/fill-text.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Fill/fill-inputs.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Fill/translation.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Fill/direct-inputs.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Fill/events-fill.js" defer></script>


<!------------------------🧱 Builders 🧱---------------------->
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Builders/options.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Builders/currency.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Builders/keywords.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Builders/url-friendly-v1.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Builders/events-builders.js" defer></script>


<!----------------------- ⚡ Form ⚡ ------------------------->
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Form/form-submit.js" defer></script>


<!------------------------🙉 Display 🙉 ---------------------->
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Display/display.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Display/events-display.js" defer></script>


<!------------------------🐇 Handlers 🐇---------------------->
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Handlers/options-handler.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Handlers/options-checkbox.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Handlers/options-radio.js" defer></script>


<!----------------------- 🐬 Tools 🐬 ------------------------->
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Tools/loader.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Tools/fill-specific-inputs.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Tools/mirror-click.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Tools/modal-error.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Tools/refresh.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Tools/reload-form.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Tools/universal-emojis.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/Tools/reset-tabs.js" defer></script>


<!----------------------- 🐬 .get('') 🐬 ---------------------->
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/window-data/DynamicText.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/creatifornia/v1@main/office/window-data/OfficesText.js" defer></script>


<!----------------------- 🐞 Uploadcare 🐞  ------------------>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@uploadcare/file-uploader@v1/web/uc-file-uploader-regular.min.css" />
<script type="module">
  import * as UC from 'https://cdn.jsdelivr.net/npm/@uploadcare/file-uploader@v1/web/file-uploader.min.js';
  import es from 'https://cdn.jsdelivr.net/npm/@uploadcare/file-uploader@v1/locales/file-uploader/es.js';
  import en from 'https://cdn.jsdelivr.net/npm/@uploadcare/file-uploader@v1/locales/file-uploader/en.js';

  // Función para inicializar UploadCare con el locale correcto
  const initUploadCare = () => {
    try {
      const lang = window.OfficesText?.get('country.lang.ISO_639') || 'es'; // Safe access with optional chaining
      
      if (lang === 'es') {
        UC.defineLocale('es', es);
      } else {
        UC.defineLocale('en', en); // Default to English for any non-Spanish language
      }

      UC.defineComponents(UC);
    } catch (error) {
      console.error('Error initializing UploadCare:', error);
      // Fallback to Spanish if any error occurs
      UC.defineLocale('es', es);
      UC.defineComponents(UC);
    }
  };

  // Esperar a que los textos dinámicos estén listos
  if (window.DynamicText && window.OfficesText) {
    document.addEventListener('dynamic_text-ready', initUploadCare);
  } else {
    // Cargar con valores por defecto si no existe el sistema de textos
    console.warn('DynamicText/OfficesText no disponibles, cargando UploadCare con español por defecto');
    UC.defineLocale('es', es);
    UC.defineComponents(UC);
  }
</script>


<!------------------------🐸 HTML 🐸-------------------------->
<!-- MODAL response error -->
<div id="error-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; justify-content:center; align-items:center;">
    <div style="background:#292626; padding:2rem; border-radius:1rem; max-width:400px; width:90%; text-align:center; color:#e7cfb1; font-family:sans-serif; box-shadow:0 10px 30px rgba(0,0,0,0.3);">
      <h2 style="margin-bottom:1rem; font-size:18px;">🔔</h2> <!-- Título más pequeño -->
      <p id="error-message" style="margin-bottom:2rem; font-size:20px; font-weight:bold;"></p> <!-- Mensaje más grande -->
      <button onclick="closeErrorModal()" style="background:#e5813e; color:#292626; border:none; padding:0.75rem 1.5rem; border-radius:0.5rem; cursor:pointer; font-weight:bold;">
        Close
      </button>
    </div>
  </div>
