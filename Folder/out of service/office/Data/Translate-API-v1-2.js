document.addEventListener("creatifornia-ready",initTranslate);const CURRENT_TRANSLATE_VERSION="v1.0";function initTranslate(){(async()=>{const t=window.Offices?.get("country.lang.ISO_639");if("es"===t)return void document.dispatchEvent(new CustomEvent("translate-not-needed",{detail:{lang:t}}));const e=localStorage.getItem("AuthToken"),a=localStorage.getItem("translate"),n=new URLSearchParams(window.location.search).has("update");if(n&&a&&(console.log("üåé Translate Data by URL"),localStorage.removeItem("translate")),a&&!n)try{if(JSON.parse(a).version===CURRENT_TRANSLATE_VERSION)return document.dispatchEvent(new Event("translate-data-ready")),void console.log("üåé Translate Data");localStorage.removeItem("translate")}catch(t){console.warn("Corrupted translate, refreshing..."),localStorage.removeItem("translate")}if(e){xano.setAuthToken(e);try{const e=`/translate?lang=${t}&country=${window.Offices?.get("country.ISO_3166_1_alfa_2")||"MX"}`,a=await xano.get(e);if(a?.body){const t=a.body.flat(1/0).reduce(((t,e)=>("object"==typeof e&&null!==e&&Object.entries(e).forEach((([e,a])=>{"string"!=typeof a&&"number"!=typeof a||(t[e]=a)})),t)),{version:CURRENT_TRANSLATE_VERSION});localStorage.setItem("translate",JSON.stringify(t)),console.log(`üåé Translate Data ${CURRENT_TRANSLATE_VERSION}`),document.dispatchEvent(new Event("translate-data-ready"))}}catch(t){console.error("‚ùå translate error:",t)}}})()}