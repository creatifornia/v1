document.addEventListener("creatifornia-ready",initDynamicText);const CURRENT_DYNAMIC_TEXT_VERSION="v1.0";function initDynamicText(){const e=localStorage.getItem("AuthToken"),o=localStorage.getItem("dynamic"),t=new URLSearchParams(window.location.search).has("update");if(t&&o&&(console.log("üåä Dynamic by URL"),localStorage.removeItem("dynamic")),o&&!t)try{if(JSON.parse(o).version===CURRENT_DYNAMIC_TEXT_VERSION)return document.dispatchEvent(new Event("dynamic-ready")),void console.log("üåä Dynamic");localStorage.removeItem("dynamic")}catch(a){console.warn("Corrupted dynamic, refreshing..."),localStorage.removeItem("dynamic")}if(e){function n(e){try{const o=JSON.parse(localStorage.getItem("offices")||"{}");return e.split(".").reduce(((e,o)=>e?.[o]),o)}catch(e){return console.error("‚ùå Error parsing offices from localStorage:",e),null}}xano.setAuthToken(e),(async()=>{try{const e=n("lang.ISO_639"),o=n("country.ISO_3166_1_alfa_2"),t=await xano.get(`/dynamic?lang=${e}&country=${o}`);if(t?.body){const e=t.body.flat(1/0).reduce(((e,o)=>("object"==typeof o&&null!==o&&Object.entries(o).forEach((([o,t])=>{"string"!=typeof t&&"number"!=typeof t||(e[o]=t)})),e)),{version:CURRENT_DYNAMIC_TEXT_VERSION});localStorage.setItem("dynamic",JSON.stringify(e)),console.log(`üåä Dynamic ${CURRENT_DYNAMIC_TEXT_VERSION}`),document.dispatchEvent(new Event("dynamic-ready"))}}catch(e){console.error("‚ùå dynamic error:",e)}})()}}