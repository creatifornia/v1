document.addEventListener("creatifornia-ready",initTranslate);const CURRENT_TRANSLATE_VERSION="v1.0";function initTranslate(){function t(t){try{const e=JSON.parse(localStorage.getItem("offices")||"{}");return t.split(".").reduce(((t,e)=>t?.[e]),e)}catch(t){return console.error("‚ùå Error parsing offices from localStorage:",t),null}}(async()=>{const e=t("country.lang.ISO_639");if("es"===e)return void document.dispatchEvent(new CustomEvent("translate-not-needed",{detail:{lang:e}}));const a=localStorage.getItem("AuthToken"),n=localStorage.getItem("translate"),r=new URLSearchParams(window.location.search).has("update");if(r&&n&&(console.log("üåé Translate Data by URL"),localStorage.removeItem("translate")),n&&!r)try{if(JSON.parse(n).version===CURRENT_TRANSLATE_VERSION)return document.dispatchEvent(new Event("translate-data-ready")),void console.log("üåé Translate Data");localStorage.removeItem("translate")}catch(t){console.warn("Corrupted translate, refreshing..."),localStorage.removeItem("translate")}if(a){xano.setAuthToken(a);try{const a=`/translate?lang=${e}&country=${t("country.ISO_3166_1_alfa_2")}`,n=await xano.get(a);if(n?.body){const t=n.body.flat(1/0).reduce(((t,e)=>("object"==typeof e&&null!==e&&Object.entries(e).forEach((([e,a])=>{"string"!=typeof a&&"number"!=typeof a||(t[e]=a)})),t)),{version:CURRENT_TRANSLATE_VERSION});localStorage.setItem("translate",JSON.stringify(t)),console.log(`üåé Translate Data ${CURRENT_TRANSLATE_VERSION}`),document.dispatchEvent(new Event("translate-data-ready"))}}catch(t){console.error("‚ùå translate error:",t)}}})()}