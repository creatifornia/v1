!function(){"use strict";document.addEventListener("valid-change-checkbox",(e=>{try{const t=e.detail||{},r=t.componentId,c=!!t.dependencies,n=(Array.isArray(t.currentValue)?t.currentValue:[]).map((e=>String(e.value)));if(!c)return;const o=document.querySelector(`[component-id="${r}"]`);if(!o)return;const a=o.closest("[cf-form-submit]")||document;a.querySelectorAll(`[display-depend="${r}"]`).forEach((e=>{const t=e.getAttribute("match"),r=t?n.includes(String(t).trim()):n.length>0;e.style.display=r?"":"none"}));a.querySelectorAll(`[required-depend="${r}"]`).forEach((e=>{const t=e.getAttribute("match"),r=Array.from(e.querySelectorAll("[cf-json-path]")).filter((e=>e&&e.matches&&e.matches("input,textarea,select")));(t?n.includes(String(t).trim()):n.length>0)?r.forEach((e=>{e.setAttribute("data-required","");try{e.dispatchEvent(new Event("change",{bubbles:!0}))}catch(e){}})):r.forEach((e=>{e.removeAttribute("data-required");try{!function(e){const t=e.closest("[component-id]");if(!t){try{const t=JSON.parse(e.value||"");e.value=Array.isArray(t)?"[]":"{}"}catch{e.value="[]"}return}const r=(t.getAttribute("input-type")||"checkbox").toLowerCase(),c=t.getAttribute("f-class")||"",n=t.getAttribute("l-class")||"",o=t.querySelector('[role="group"]');e.value="checkbox"===r?"[]":"{}",o&&(o.querySelectorAll("[native-button], input").forEach((e=>{try{e.checked=!1}catch(e){}})),o.querySelectorAll("[c-field]").forEach((e=>{c&&e.classList.remove(c);const t=e.querySelector("[c-label]");t&&n&&t.classList.remove(n)})))}(e)}catch(e){}try{e.dispatchEvent(new Event("change",{bubbles:!0}))}catch(e){}}))}))}catch(e){console.error("Checkbox-v3 handler error",e)}}))}();