document.addEventListener("creatifornia-ready",initDynamicText);const CURRENT_DYNAMIC_TEXT_VERSION="v1.0";function initDynamicText(){const e=localStorage.getItem("AuthToken"),n=localStorage.getItem("dynamic"),t=new URLSearchParams(window.location.search).has("update");if(t&&n&&(console.log("üåä Dynamic by URL"),localStorage.removeItem("dynamic")),n&&!t)try{if(JSON.parse(n).version===CURRENT_DYNAMIC_TEXT_VERSION)return document.dispatchEvent(new Event("dynamic-api")),void console.log("üåä Dynamic");localStorage.removeItem("dynamic")}catch(e){console.warn("Corrupted dynamic, refreshing..."),localStorage.removeItem("dynamic")}e&&(xano.setAuthToken(e),(async()=>{try{const e=Offices.get("country.lang.ISO_639")||"es",n=Offices.get("country.ISO_3166_1_alfa_2")||"MX",t=await xano.get(`/dynamic?lang=${e}&country=${n}`);if(t?.body){const e=t.body.flat(1/0).reduce(((e,n)=>("object"==typeof n&&null!==n&&Object.entries(n).forEach((([n,t])=>{"string"!=typeof t&&"number"!=typeof t||(e[n]=t)})),e)),{version:CURRENT_DYNAMIC_TEXT_VERSION});localStorage.setItem("dynamic",JSON.stringify(e)),console.log(`üåä Dynamic ${CURRENT_DYNAMIC_TEXT_VERSION}`),document.dispatchEvent(new Event("dynamic-api"))}}catch(e){console.error("‚ùå dynamic error:",e)}})())}