class Translate{constructor(){this._cache=null,this._isReady=!1,this._retryCount=0,this._cacheKey="translate",this._maxRetries=5,this._retryInterval=300,this._crucialPaths=["welcome","error_404"],this.init()}init(){document.addEventListener("translate-data-ready",(()=>this._loadData())),this._loadData()}_loadData(){try{const t=localStorage.getItem(this._cacheKey);if(!t)throw new Error("No hay datos en cachÃ©");const e=JSON.parse(t);if(!this._verifyData(e))throw new Error("Faltan campos crÃ­ticos");this._cache=e,this._isReady=!0,document.dispatchEvent(new Event("translate-cache")),console.log("ðŸŒŽ Translate: Cache")}catch(t){console.warn("Translate Error:",t.message),this._retryOrFail()}}_verifyData(t){return this._crucialPaths.every((e=>{const a=e.split(".").reduce(((t,e)=>t?.[e]),t);return null!=a&&""!==a}))}_retryOrFail(){this._retryCount<this._maxRetries?(this._retryCount++,setTimeout((()=>this._loadData()),this._retryInterval)):console.error("ðŸŒŽ Translate: Fallo despuÃ©s de reintentos")}get(t){return this._isReady?t.split(".").reduce(((t,e)=>t?.[e]),this._cache):(console.warn("Translate: Datos no disponibles"),null)}}window.Translate=new Translate;