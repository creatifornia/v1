document.addEventListener("creatifornia-ready",initOptions);const CURRENT_SYSTEM_VERSION="v1.0";function initOptions(){const o=localStorage.getItem("AuthToken"),e=localStorage.getItem("options"),t=new URLSearchParams(window.location.search).has("update");if(t&&e&&(console.log("ü¶ß Options by URL"),localStorage.removeItem("options")),e&&!t)try{if(JSON.parse(e).version===CURRENT_SYSTEM_VERSION)return document.dispatchEvent(new Event("options-ready")),void console.log("ü¶ß Options");localStorage.removeItem("options")}catch(o){console.warn("Corrupted options, refreshing..."),localStorage.removeItem("options")}if(o){xano.setAuthToken(o);const e=o=>({...Object.fromEntries(Object.entries(o).filter((([o,e])=>!Array.isArray(e)))),...Object.fromEntries(Object.entries(o).filter((([o,e])=>Array.isArray(e))).map((([o,e])=>[o,{options:e.find((o=>o.options))?.options||[],message:e.find((o=>o.message))?.message||"Elige una opci√≥n"}])))});(async()=>{try{const o=Offices.get("country.lang.ISO_639")||"es",t=Offices.get("country.ISO_3166_1_alfa_2")||"MX",n=await xano.get(`/options?lang=${o}&country=${t}`);if(n?.body){const o={...e(n.body),version:CURRENT_SYSTEM_VERSION};localStorage.setItem("options",JSON.stringify(o)),console.log(`ü¶ß Options ${CURRENT_SYSTEM_VERSION}`),document.dispatchEvent(new Event("options-ready"))}}catch(o){console.error("‚ùå Options error:",o)}})()}}