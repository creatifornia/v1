document.addEventListener("creatifornia-ready",dynamicText);const CURRENT_TRANSLATE_VERSION="v1.0";function dynamicText(){const t=(e=0)=>{const a=JSON.parse(localStorage.getItem("offices")||"{}"),o=a.country?.lang?.ISO_639;return o||e>=30?o||"es":new Promise((a=>{setTimeout((()=>{a(t(e+1))}),50)}))};(async()=>{const e=await t();if("es"===e)return console.log("ğŸŒ Es"),void document.dispatchEvent(new CustomEvent("translate-not-needed",{detail:{lang:e}}));const a=localStorage.getItem("AuthToken"),o=localStorage.getItem("translate"),n=new URLSearchParams(window.location.search).has("update");if(n&&o&&(console.log("ğŸŒ by URL"),localStorage.removeItem("translate")),o&&!n)try{const t=JSON.parse(o);if(t.version===CURRENT_TRANSLATE_VERSION)return document.dispatchEvent(new Event("translate-data-ready")),void console.log("ğŸŒ Translate");localStorage.removeItem("translate")}catch(t){console.warn("Corrupted translate, refreshing..."),localStorage.removeItem("translate")}if(a){xano.setAuthToken(a);const t=(e=0)=>{const a=JSON.parse(localStorage.getItem("offices")||"{}"),o=a.country?.ISO_3166_1_alfa_2;return o||e>=30?o||"MX":new Promise((a=>{setTimeout((()=>{a(t(e+1))}),50)}))};try{const a=`/translate?lang=${e}&country=${await t()}`,o=await xano.get(a);if(o?.body){const t={};o.body.flat(1/0).forEach((e=>{"object"==typeof e&&null!==e&&Object.entries(e).forEach((([e,a])=>{"string"!=typeof a&&"number"!=typeof a||(t[e]=a)}))})),localStorage.setItem("translate",JSON.stringify(t)),console.log(`ğŸ”  Translate data ${CURRENT_TRANSLATE_VERSION}`),document.dispatchEvent(new Event("translate-data-ready"))}}catch(t){console.error("âŒ translate error:",t)}}})()}